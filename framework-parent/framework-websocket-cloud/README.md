#### websocket集群的思路
1. 当用户与服务器建立连接成功之后, 长连接通道Session保存在这台机器上, 同时记录这台机器的ip到redis上, key为 用户名通过计算获得
2. 当用户和服务器断开后, 清理Session的同时, 清理redis里的记录
3. 当要向用户推送消息时, 先根据用户,获取和用户保持连接的 机器ip , 如果是本机就直接推送,如果不是本机,就通过http接口,向目标ip机器发起推送任务,
4. 补偿,  分布式就会有网络原因, 如果第三步,请求http接口失败, 需要做一个重试机制